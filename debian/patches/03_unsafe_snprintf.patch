Description: Fix incomplete snprintf declaration.
 This patch prevents a potential format string attack, caught thanks to
 the hardening flags in the Debian build (-Werror=format-security).
 It's partially taken from upstream's 1289476120c4...
Author: David Mart√≠nez Moreno <ender@debian.org>
Forwarded: not-needed
Last-Update: <2013-12-11>

--- a/shlr/java/code.c
+++ b/shlr/java/code.c
@@ -132,13 +132,13 @@
 		if(!string_str)
 			string_str = empty;
 
-		memory_alloc = strlen(string_str) + 4;
+		memory_alloc = strlen(string_str) + 3;
 		
 		if (memory_alloc)
 			str = malloc(memory_alloc);
 		
 		if (str){
-			snprintf (str, "\"%s\"", string_str);
+			snprintf (str, memory_alloc, "\"%s\"", string_str);
 		}
 		
 		if (string_str != empty)
