#!/usr/bin/make -f
DEBUG_SUPPORT=0
EXTRA_FLAGS=

ifeq (arm,$(DEB_HOST_ARCH_CPU))
DEBUG_SUPPORT=1
endif

ifeq (amd64,$(DEB_HOST_ARCH_CPU))
DEBUG_SUPPORT=1
endif

ifeq (i386,$(DEB_HOST_ARCH_CPU))
DEBUG_SUPPORT=1
endif

ifeq (0,$(DEBUG_SUPPORT))
EXTRA_FLAGS+=--without-debugger
endif

%:
	dh $@

override_dh_auto_configure:
	./configure --prefix=/usr ${EXTRA_FLAGS}

override_dh_makeshlibs:
	dh_makeshlibs --exclude=/usr/lib/radare2/

override_dh_strip:
	dh_strip -pradare2 --dbg-package=radare2-dbg
	dh_strip -plibradare2-0.8 --dbg-package=libradare2-0.8-dbg

override_dh_auto_clean:
	-dh_auto_clean
